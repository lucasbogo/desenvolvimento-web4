<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:replace="head:: head" />

<body>
	<div th:replace="menu:: menu" />
	<main class="container">
		<a class="btn btn-primary active" role="button" th:href="@{/filmes/new}">
			<i class="bi bi-plus-square"></i>
			Filme
		</a>

		<!-- ADRIANO-S CODE 
		<div class="bg-light p-5 rounded">
			<div th:if="${extern_movie}" class="row">
				<div class="row mb-3">
					<h2 th:text="${extern_movie.title}">
				</div>
				<div class="row">
					<p style="max-width:750px" th:text="${extern_movie.overview}">
				</div>
				<div class="row mb-3">
					<div>
						<img th:if="${extern_movie.poster_path} != null" style="max-width:90%"
							th:src="@{https://image.tmdb.org/t/p/w500{poster_path}(poster_path=${extern_movie.poster_path})}">
					</div>
				</div>
				<div class="row mb-3">
					<p>
						<span>Número de avaliações: </span><span th:text="${extern_movie.vote_count}"></span>
					</p>
				</div>
				<div class="row mb-3">
					<p>
						<span>Data de lançamento: </span><span th:text="${extern_movie.release_date}"></span>
					</p>
				</div>
				<div class="row mb-3">
					<p>
						<span>Nota: </span><span th:text="${extern_movie.vote_average}"></span>
					</p>
				</div>
				<div class="row mb-3">
					<p>
						<span style="padding-bottom:10px;">Gêneros do filme: </span>
						<span th:if="${movie_genres}" th:each="genre: ${movie_genres}" th:text="${genre}" style="padding:5px; 
    		margin-right:5px;background-color: #ccc;border-radius:9%"></span>
					</p>
				</div>
				<div class="row mb-3">
					<form th:object="${filme_externo}" th:action="@{/filmes/extern_movies/save}" method="POST">
						<div style="display:none">
							<input class="form-control" type="text" name="title" id="title"
								th:value="${extern_movie.title}" required>
							<input class="form-control" type="date" name="release" id="release"
								th:value="${extern_movie.release_date}" required>
							<input class="form-control" type="text" name="score" th:value="${extern_movie.vote_average}"
								id="score" required>
						</div>
						<button class="btn btn-success">Salvar</button>
					</form>
				</div>
			</div>


			<div class="bg-light p-5 rounded">
				<div class="row">
					<div th:if="${extern_movie}" class="row">
						<div class="row mb-3">
							<h2 th:text="${extern_movie.title}">
						</div>
						<div class="row">
							<p style="max-width:750px" th:text="${extern_movie.overview}">
						</div>
						<div class="row mb-3">
							<div>
								<img th:if="${extern_movie.poster_path} != null" style="max-width:90%"
									th:src="@{https://image.tmdb.org/t/p/w500{poster_path}(poster_path=${extern_movie.poster_path})}">
							</div>
						</div>
						<div class="row mb-3">
							<p>
								<span>Número de avaliações: </span><span th:text="${extern_movie.vote_count}"></span>
							</p>
						</div>
						<div class="row mb-3">
							<p>
								<span>Data de lançamento: </span><span th:text="${extern_movie.release_date}"></span>
							</p>
						</div>
						<div class="row mb-3">
							<p>
								<span>Nota: </span><span th:text="${extern_movie.vote_average}"></span>
							</p>
						</div>
						<div class="row mb-3">
							<p>
								<span style="padding-bottom:10px;">Gêneros do filme: </span>
								<span th:if="${movie_genres}" th:each="genre: ${movie_genres}" th:text="${genre}" style="padding:5px; 
    		margin-right:5px;background-color: #ccc;border-radius:9%"></span>
							</p>
						</div>
						<div class="row mb-3">
							<form th:object="${filme_externo}" th:action="@{/filmes/extern_movies/save}" method="POST">
								<div style="display:none">
									<input class="form-control" type="text" name="title" id="title"
										th:value="${extern_movie.title}" required>
									<input class="form-control" type="date" name="release" id="release"
										th:value="${extern_movie.release_date}" required>
									<input class="form-control" type="text" name="score"
										th:value="${extern_movie.vote_average}" id="score" required>
								</div>
								<button class="btn btn-success">Salvar</button>
							</form>
						</div>
					</div>
                    -->


		<form th:object="${filme}" action="/filmes/save" method="POST">
			<div class="col-8">
				<label class="form-label" for="title">Title</label>
				<input type="text" th:field="*{title}" class="form-control" placeholder="Nome do filme"
					th:errorclass="inputError" autocomplete="off">

				<span class="error" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">campo
					invalido</span>

			</div>
			<div class="col-8">
				<label class="form-label" for="category">Category</label>
				<select name='category' class="form-control">
					<option th:each="cat: ${categories}" th:value="${cat}" th:text="${cat}" />
				</select>
			</div>
			<div class="col">
				<label class="form-label" for="score">Score</label>
				<input type="number" th:field="*{score}" class="form-control" placeholder="7.5" autocomplete="off">

				<span class="error" th:if="${#fields.hasErrors('score')}" th:errors="*{score}">campo
					invalido</span>

			</div>
			<div class="col">
				<label class="form-label" for="release">Release</label>
				<input type="date" th:field="${filme.release}" class="form-control" placeholder="2001-05-20"
					autocomplete="off">
				<span class="error" th:if="${#fields.hasErrors('release')}" th:errors="*{release}">campo
					invalido</span>

			</div>
			<button class="btn btn-dark">Save</button>
		</form>
		</div>
		</div>
	</main>

	<script type="text/javascript" th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>

</html>